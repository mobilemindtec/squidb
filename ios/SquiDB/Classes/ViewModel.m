//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./build/j2objc/java/ViewModel.java
//

#include "AbstractModel.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "Property.h"
#include "SqlTable.h"
#include "TableModelName.h"
#include "ViewModel.h"
#include "java/lang/Boolean.h"
#include "java/lang/Double.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/Void.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

@interface ComYahooSquidbDataViewModel ()

+ (void)constructVisitorWithIOSClass:(IOSClass *)cls
                        withNSString:(NSString *)tableName
withComYahooSquidbDataViewModel_TableMappingVisitors:(ComYahooSquidbDataViewModel_TableMappingVisitors *)visitors
                    withJavaUtilList:(id<JavaUtilList>)properties
                     withJavaUtilMap:(id<JavaUtilMap>)aliasMap;

@end

__attribute__((unused)) static void ComYahooSquidbDataViewModel_constructVisitorWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(IOSClass *cls, NSString *tableName, ComYahooSquidbDataViewModel_TableMappingVisitors *visitors, id<JavaUtilList> properties, id<JavaUtilMap> aliasMap);

@interface ComYahooSquidbDataViewModel_TableModelMappingVisitor () {
 @public
  IOSObjectArray *relevantProperties_;
  id<JavaUtilMap> aliasedPropertyMap_;
}

- (ComYahooSquidbSqlProperty *)getPropertyToSetWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property;

@end

J2OBJC_FIELD_SETTER(ComYahooSquidbDataViewModel_TableModelMappingVisitor, relevantProperties_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(ComYahooSquidbDataViewModel_TableModelMappingVisitor, aliasedPropertyMap_, id<JavaUtilMap>)

__attribute__((unused)) static ComYahooSquidbSqlProperty *ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(ComYahooSquidbDataViewModel_TableModelMappingVisitor *self, ComYahooSquidbSqlProperty *property);

@interface ComYahooSquidbDataViewModel_TableMappingVisitors () {
 @public
  id<JavaUtilMap> map_;
}

- (void)putWithIOSClass:(IOSClass *)cls
           withNSString:(NSString *)tableName
withComYahooSquidbDataViewModel_TableModelMappingVisitor:(ComYahooSquidbDataViewModel_TableModelMappingVisitor *)mapper;

@end

J2OBJC_FIELD_SETTER(ComYahooSquidbDataViewModel_TableMappingVisitors, map_, id<JavaUtilMap>)

__attribute__((unused)) static void ComYahooSquidbDataViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableModelMappingVisitor_(ComYahooSquidbDataViewModel_TableMappingVisitors *self, IOSClass *cls, NSString *tableName, ComYahooSquidbDataViewModel_TableModelMappingVisitor *mapper);

@implementation ComYahooSquidbDataViewModel

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComYahooSquidbDataViewModel_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (ComYahooSquidbDataViewModel_TableMappingVisitors *)getTableMappingVisitors {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (ComYahooSquidbDataAbstractModel *)mapToModelWithComYahooSquidbDataAbstractModel:(ComYahooSquidbDataAbstractModel *)dst {
  return [self mapToModelWithComYahooSquidbDataAbstractModel:dst withNSString:nil];
}

- (ComYahooSquidbDataAbstractModel *)mapToModelWithComYahooSquidbDataAbstractModel:(ComYahooSquidbDataAbstractModel *)dst
                                                     withComYahooSquidbSqlSqlTable:(ComYahooSquidbSqlSqlTable *)tableAlias {
  return [self mapToModelWithComYahooSquidbDataAbstractModel:dst withNSString:[((ComYahooSquidbSqlSqlTable *) nil_chk(tableAlias)) getName]];
}

- (ComYahooSquidbDataAbstractModel *)mapToModelWithComYahooSquidbDataAbstractModel:(ComYahooSquidbDataAbstractModel *)dst
                                                                      withNSString:(NSString *)tableAlias {
  ComYahooSquidbDataViewModel_TableMappingVisitors *visitors = [self getTableMappingVisitors];
  if (visitors != nil) {
    ComYahooSquidbDataViewModel_TableModelMappingVisitor *mapper = [visitors getWithIOSClass:[((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) java_getClass] withNSString:tableAlias];
    if (mapper != nil) {
      return [mapper mapWithComYahooSquidbDataViewModel:self withComYahooSquidbDataAbstractModel:dst];
    }
  }
  return dst;
}

- (id<JavaUtilList>)mapToSourceModels {
  id<JavaUtilList> result = new_JavaUtilArrayList_init();
  ComYahooSquidbDataViewModel_TableMappingVisitors *visitors = [self getTableMappingVisitors];
  if (visitors != nil) {
    id<JavaUtilSet> allMappings = [visitors allMappings];
    for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk(allMappings)) {
      @try {
        IOSClass *cls = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
        id<JavaUtilMap> clsMappers = [entry_ getValue];
        for (NSString * __strong table in nil_chk([((id<JavaUtilMap>) nil_chk(clsMappers)) keySet])) {
          [result addWithId:[self mapToModelWithComYahooSquidbDataAbstractModel:[((IOSClass *) nil_chk(cls)) newInstance] withNSString:table]];
        }
      }
      @catch (JavaLangException *e) {
        @throw new_JavaLangRuntimeException_initWithJavaLangThrowable_(e);
      }
    }
  }
  return result;
}

+ (void)validateAliasedPropertiesWithComYahooSquidbSqlPropertyArray:(IOSObjectArray *)aliasedPropertyArray {
  ComYahooSquidbDataViewModel_validateAliasedPropertiesWithComYahooSquidbSqlPropertyArray_(aliasedPropertyArray);
}

+ (ComYahooSquidbDataViewModel_TableMappingVisitors *)generateTableMappingVisitorsWithComYahooSquidbSqlPropertyArray:(IOSObjectArray *)viewModelProperties
                                                                                  withComYahooSquidbSqlPropertyArray:(IOSObjectArray *)aliasedProperties
                                                                                  withComYahooSquidbSqlPropertyArray:(IOSObjectArray *)baseProperties {
  return ComYahooSquidbDataViewModel_generateTableMappingVisitorsWithComYahooSquidbSqlPropertyArray_withComYahooSquidbSqlPropertyArray_withComYahooSquidbSqlPropertyArray_(viewModelProperties, aliasedProperties, baseProperties);
}

+ (void)constructVisitorWithIOSClass:(IOSClass *)cls
                        withNSString:(NSString *)tableName
withComYahooSquidbDataViewModel_TableMappingVisitors:(ComYahooSquidbDataViewModel_TableMappingVisitors *)visitors
                    withJavaUtilList:(id<JavaUtilList>)properties
                     withJavaUtilMap:(id<JavaUtilMap>)aliasMap {
  ComYahooSquidbDataViewModel_constructVisitorWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(cls, tableName, visitors, properties, aliasMap);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComYahooSquidbDataViewModel_TableMappingVisitors;", 0x404, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComYahooSquidbDataAbstractModel;", 0x1, 0, 1, -1, 2, -1, -1 },
    { NULL, "LComYahooSquidbDataAbstractModel;", 0x1, 0, 3, -1, 4, -1, -1 },
    { NULL, "LComYahooSquidbDataAbstractModel;", 0x1, 0, 5, -1, 6, -1, -1 },
    { NULL, "LJavaUtilList;", 0x1, -1, -1, -1, 7, -1, -1 },
    { NULL, "V", 0xc, 8, 9, -1, 10, -1, -1 },
    { NULL, "LComYahooSquidbDataViewModel_TableMappingVisitors;", 0xc, 11, 12, -1, 13, -1, -1 },
    { NULL, "V", 0xa, 14, 15, -1, 16, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getTableMappingVisitors);
  methods[2].selector = @selector(mapToModelWithComYahooSquidbDataAbstractModel:);
  methods[3].selector = @selector(mapToModelWithComYahooSquidbDataAbstractModel:withComYahooSquidbSqlSqlTable:);
  methods[4].selector = @selector(mapToModelWithComYahooSquidbDataAbstractModel:withNSString:);
  methods[5].selector = @selector(mapToSourceModels);
  methods[6].selector = @selector(validateAliasedPropertiesWithComYahooSquidbSqlPropertyArray:);
  methods[7].selector = @selector(generateTableMappingVisitorsWithComYahooSquidbSqlPropertyArray:withComYahooSquidbSqlPropertyArray:withComYahooSquidbSqlPropertyArray:);
  methods[8].selector = @selector(constructVisitorWithIOSClass:withNSString:withComYahooSquidbDataViewModel_TableMappingVisitors:withJavaUtilList:withJavaUtilMap:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "mapToModel", "LComYahooSquidbDataAbstractModel;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;)TT;", "LComYahooSquidbDataAbstractModel;LComYahooSquidbSqlSqlTable;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;Lcom/yahoo/squidb/sql/SqlTable<*>;)TT;", "LComYahooSquidbDataAbstractModel;LNSString;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;Ljava/lang/String;)TT;", "()Ljava/util/List<Lcom/yahoo/squidb/data/AbstractModel;>;", "validateAliasedProperties", "[LComYahooSquidbSqlProperty;", "([Lcom/yahoo/squidb/sql/Property<*>;)V", "generateTableMappingVisitors", "[LComYahooSquidbSqlProperty;[LComYahooSquidbSqlProperty;[LComYahooSquidbSqlProperty;", "([Lcom/yahoo/squidb/sql/Property<*>;[Lcom/yahoo/squidb/sql/Property<*>;[Lcom/yahoo/squidb/sql/Property<*>;)Lcom/yahoo/squidb/data/ViewModel$TableMappingVisitors;", "constructVisitor", "LIOSClass;LNSString;LComYahooSquidbDataViewModel_TableMappingVisitors;LJavaUtilList;LJavaUtilMap;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableMappingVisitors;Ljava/util/List<Lcom/yahoo/squidb/sql/Property<*>;>;Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;)V", "LComYahooSquidbDataViewModel_TableModelMappingVisitor;LComYahooSquidbDataViewModel_TableMappingVisitors;" };
  static const J2ObjcClassInfo _ComYahooSquidbDataViewModel = { "ViewModel", "com.yahoo.squidb.data", ptrTable, methods, NULL, 7, 0x401, 9, 0, -1, 17, -1, -1, -1 };
  return &_ComYahooSquidbDataViewModel;
}

@end

void ComYahooSquidbDataViewModel_init(ComYahooSquidbDataViewModel *self) {
  ComYahooSquidbDataAbstractModel_init(self);
}

void ComYahooSquidbDataViewModel_validateAliasedPropertiesWithComYahooSquidbSqlPropertyArray_(IOSObjectArray *aliasedPropertyArray) {
  ComYahooSquidbDataViewModel_initialize();
  id<JavaUtilMap> numOccurrences = new_JavaUtilHashMap_init();
  id<JavaUtilSet> duplicates = new_JavaUtilHashSet_init();
  {
    IOSObjectArray *a__ = aliasedPropertyArray;
    ComYahooSquidbSqlProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    ComYahooSquidbSqlProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      ComYahooSquidbSqlProperty *p = *b__++;
      NSString *name = [((ComYahooSquidbSqlProperty *) nil_chk(p)) getName];
      if ([numOccurrences containsKeyWithId:name]) {
        [duplicates addWithId:name];
        (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_([((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue] + 1)];
      }
      else {
        (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_(1)];
      }
    }
  }
  for (jint i = ((IOSObjectArray *) nil_chk(aliasedPropertyArray))->size_ - 1; i >= 0; i--) {
    ComYahooSquidbSqlProperty *base = IOSObjectArray_Get(aliasedPropertyArray, i);
    NSString *name = [((ComYahooSquidbSqlProperty *) nil_chk(base)) getName];
    if ([duplicates containsWithId:name]) {
      NSString *alias;
      if ([base isPrimaryKey]) {
        alias = JreStrcat("$$", ((ComYahooSquidbSqlTableModelName *) nil_chk(base->tableModelName_))->tableName_, @"Id");
      }
      else {
        jint occurrence = [((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue];
        alias = JreStrcat("$CI", name, '_', occurrence);
      }
      (void) IOSObjectArray_Set(aliasedPropertyArray, i, [base asWithNSString:alias]);
      (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_([((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue] - 1)];
    }
  }
}

ComYahooSquidbDataViewModel_TableMappingVisitors *ComYahooSquidbDataViewModel_generateTableMappingVisitorsWithComYahooSquidbSqlPropertyArray_withComYahooSquidbSqlPropertyArray_withComYahooSquidbSqlPropertyArray_(IOSObjectArray *viewModelProperties, IOSObjectArray *aliasedProperties, IOSObjectArray *baseProperties) {
  ComYahooSquidbDataViewModel_initialize();
  ComYahooSquidbDataViewModel_TableMappingVisitors *result = new_ComYahooSquidbDataViewModel_TableMappingVisitors_init();
  id<JavaUtilMap> namesToPositions = new_JavaUtilHashMap_init();
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(aliasedProperties))->size_; i++) {
    (void) [namesToPositions putWithId:[((ComYahooSquidbSqlProperty *) nil_chk(IOSObjectArray_Get(aliasedProperties, i))) getName] withId:JavaLangInteger_valueOfWithInt_(i)];
  }
  id<JavaUtilMap> tableToPropertyMap = new_JavaUtilHashMap_init();
  id<JavaUtilMap> aliasedPropertiesMap = new_JavaUtilHashMap_init();
  {
    IOSObjectArray *a__ = viewModelProperties;
    ComYahooSquidbSqlProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    ComYahooSquidbSqlProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      ComYahooSquidbSqlProperty *p = *b__++;
      NSString *name = [((ComYahooSquidbSqlProperty *) nil_chk(p)) getName];
      JavaLangInteger *position = [namesToPositions getWithId:name];
      if (position == nil) {
        continue;
      }
      ComYahooSquidbSqlProperty *baseProperty = IOSObjectArray_Get(nil_chk(baseProperties), [position intValue]);
      ComYahooSquidbSqlTableModelName *table = ((ComYahooSquidbSqlProperty *) nil_chk(baseProperty))->tableModelName_;
      if (table == nil) {
        continue;
      }
      id<JavaUtilList> propertyList = [tableToPropertyMap getWithId:table];
      if (propertyList == nil) {
        propertyList = new_JavaUtilArrayList_init();
        (void) [tableToPropertyMap putWithId:table withId:propertyList];
      }
      [propertyList addWithId:p];
      if (![((NSString *) nil_chk([p getName])) isEqual:[baseProperty getName]]) {
        id<JavaUtilMap> aliasedForTable = [aliasedPropertiesMap getWithId:table];
        if (aliasedForTable == nil) {
          aliasedForTable = new_JavaUtilHashMap_init();
          (void) [aliasedPropertiesMap putWithId:table withId:aliasedForTable];
        }
        (void) [aliasedForTable putWithId:p withId:baseProperty];
      }
    }
  }
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([tableToPropertyMap entrySet])) {
    ComYahooSquidbSqlTableModelName *tableModelName = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
    id<JavaUtilList> properties = [entry_ getValue];
    id<JavaUtilMap> aliasMap = [aliasedPropertiesMap getWithId:tableModelName];
    ComYahooSquidbDataViewModel_constructVisitorWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(((ComYahooSquidbSqlTableModelName *) nil_chk(tableModelName))->modelClass_, tableModelName->tableName_, result, properties, aliasMap);
  }
  return result;
}

void ComYahooSquidbDataViewModel_constructVisitorWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(IOSClass *cls, NSString *tableName, ComYahooSquidbDataViewModel_TableMappingVisitors *visitors, id<JavaUtilList> properties, id<JavaUtilMap> aliasMap) {
  ComYahooSquidbDataViewModel_initialize();
  if (cls != nil) {
    ComYahooSquidbDataViewModel_TableModelMappingVisitor *visitor = new_ComYahooSquidbDataViewModel_TableModelMappingVisitor_initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_([((id<JavaUtilList>) nil_chk(properties)) toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[properties size] type:ComYahooSquidbSqlProperty_class_()]], aliasMap);
    ComYahooSquidbDataViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableModelMappingVisitor_(nil_chk(visitors), cls, tableName, visitor);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbDataViewModel)

@implementation ComYahooSquidbDataViewModel_TableModelMappingVisitor

- (instancetype)initWithComYahooSquidbSqlPropertyArray:(IOSObjectArray *)relevantProperties
                                       withJavaUtilMap:(id<JavaUtilMap>)aliasedPropertyMap {
  ComYahooSquidbDataViewModel_TableModelMappingVisitor_initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_(self, relevantProperties, aliasedPropertyMap);
  return self;
}

- (ComYahooSquidbDataAbstractModel *)mapWithComYahooSquidbDataViewModel:(ComYahooSquidbDataViewModel *)src
                                    withComYahooSquidbDataAbstractModel:(ComYahooSquidbDataAbstractModel *)dst {
  {
    IOSObjectArray *a__ = relevantProperties_;
    ComYahooSquidbSqlProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    ComYahooSquidbSqlProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      ComYahooSquidbSqlProperty *p = *b__++;
      (void) [((ComYahooSquidbSqlProperty *) nil_chk(p)) acceptWithComYahooSquidbSqlProperty_PropertyWritingVisitor:self withId:dst withId:src];
    }
  }
  return dst;
}

- (JavaLangVoid *)visitIntegerWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                     withId:(ComYahooSquidbDataAbstractModel *)dst
                                                     withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitLongWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                  withId:(ComYahooSquidbDataAbstractModel *)dst
                                                  withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitDoubleWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                    withId:(ComYahooSquidbDataAbstractModel *)dst
                                                    withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitStringWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                    withId:(ComYahooSquidbDataAbstractModel *)dst
                                                    withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitBooleanWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                     withId:(ComYahooSquidbDataAbstractModel *)dst
                                                     withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitBlobWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property
                                                  withId:(ComYahooSquidbDataAbstractModel *)dst
                                                  withId:(ComYahooSquidbDataViewModel *)src {
  ComYahooSquidbSqlProperty *toSet = ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
  if ([((ComYahooSquidbDataViewModel *) nil_chk(src)) containsValueWithComYahooSquidbSqlProperty:property]) {
    [((ComYahooSquidbDataAbstractModel *) nil_chk(dst)) setWithComYahooSquidbSqlProperty:toSet withId:[src getWithComYahooSquidbSqlProperty:property]];
  }
  return nil;
}

- (ComYahooSquidbSqlProperty *)getPropertyToSetWithComYahooSquidbSqlProperty:(ComYahooSquidbSqlProperty *)property {
  return ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(self, property);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, "LComYahooSquidbDataAbstractModel;", 0x1, 2, 3, -1, 4, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 5, 6, -1, 7, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 8, 6, -1, 9, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 10, 6, -1, 11, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 12, 6, -1, 13, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 14, 6, -1, 15, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 16, 6, -1, 17, -1, -1 },
    { NULL, "LComYahooSquidbSqlProperty;", 0x2, 18, 19, -1, 20, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComYahooSquidbSqlPropertyArray:withJavaUtilMap:);
  methods[1].selector = @selector(mapWithComYahooSquidbDataViewModel:withComYahooSquidbDataAbstractModel:);
  methods[2].selector = @selector(visitIntegerWithComYahooSquidbSqlProperty:withId:withId:);
  methods[3].selector = @selector(visitLongWithComYahooSquidbSqlProperty:withId:withId:);
  methods[4].selector = @selector(visitDoubleWithComYahooSquidbSqlProperty:withId:withId:);
  methods[5].selector = @selector(visitStringWithComYahooSquidbSqlProperty:withId:withId:);
  methods[6].selector = @selector(visitBooleanWithComYahooSquidbSqlProperty:withId:withId:);
  methods[7].selector = @selector(visitBlobWithComYahooSquidbSqlProperty:withId:withId:);
  methods[8].selector = @selector(getPropertyToSetWithComYahooSquidbSqlProperty:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "relevantProperties_", "[LComYahooSquidbSqlProperty;", .constantValue.asLong = 0, 0x12, -1, -1, 21, -1 },
    { "aliasedPropertyMap_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 22, -1 },
  };
  static const void *ptrTable[] = { "[LComYahooSquidbSqlProperty;LJavaUtilMap;", "([Lcom/yahoo/squidb/sql/Property<*>;Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;)V", "map", "LComYahooSquidbDataViewModel;LComYahooSquidbDataAbstractModel;", "(Lcom/yahoo/squidb/data/ViewModel;TT;)TT;", "visitInteger", "LComYahooSquidbSqlProperty;LComYahooSquidbDataAbstractModel;LComYahooSquidbDataViewModel;", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Integer;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitLong", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Long;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitDouble", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Double;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitString", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/String;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitBoolean", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Boolean;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitBlob", "(Lcom/yahoo/squidb/sql/Property<[B>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "getPropertyToSet", "LComYahooSquidbSqlProperty;", "<PT:Ljava/lang/Object;>(Lcom/yahoo/squidb/sql/Property<TPT;>;)Lcom/yahoo/squidb/sql/Property<TPT;>;", "[Lcom/yahoo/squidb/sql/Property<*>;", "Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;", "LComYahooSquidbDataViewModel;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>Ljava/lang/Object;Lcom/yahoo/squidb/sql/Property$PropertyWritingVisitor<Ljava/lang/Void;TT;Lcom/yahoo/squidb/data/ViewModel;>;" };
  static const J2ObjcClassInfo _ComYahooSquidbDataViewModel_TableModelMappingVisitor = { "TableModelMappingVisitor", "com.yahoo.squidb.data", ptrTable, methods, fields, 7, 0xc, 9, 2, 23, -1, -1, 24, -1 };
  return &_ComYahooSquidbDataViewModel_TableModelMappingVisitor;
}

@end

void ComYahooSquidbDataViewModel_TableModelMappingVisitor_initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_(ComYahooSquidbDataViewModel_TableModelMappingVisitor *self, IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  NSObject_init(self);
  self->relevantProperties_ = relevantProperties;
  self->aliasedPropertyMap_ = aliasedPropertyMap;
}

ComYahooSquidbDataViewModel_TableModelMappingVisitor *new_ComYahooSquidbDataViewModel_TableModelMappingVisitor_initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_(IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  J2OBJC_NEW_IMPL(ComYahooSquidbDataViewModel_TableModelMappingVisitor, initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_, relevantProperties, aliasedPropertyMap)
}

ComYahooSquidbDataViewModel_TableModelMappingVisitor *create_ComYahooSquidbDataViewModel_TableModelMappingVisitor_initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_(IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  J2OBJC_CREATE_IMPL(ComYahooSquidbDataViewModel_TableModelMappingVisitor, initWithComYahooSquidbSqlPropertyArray_withJavaUtilMap_, relevantProperties, aliasedPropertyMap)
}

ComYahooSquidbSqlProperty *ComYahooSquidbDataViewModel_TableModelMappingVisitor_getPropertyToSetWithComYahooSquidbSqlProperty_(ComYahooSquidbDataViewModel_TableModelMappingVisitor *self, ComYahooSquidbSqlProperty *property) {
  if (self->aliasedPropertyMap_ == nil || ![self->aliasedPropertyMap_ containsKeyWithId:property]) {
    return property;
  }
  return [self->aliasedPropertyMap_ getWithId:property];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbDataViewModel_TableModelMappingVisitor)

@implementation ComYahooSquidbDataViewModel_TableMappingVisitors

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComYahooSquidbDataViewModel_TableMappingVisitors_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)putWithIOSClass:(IOSClass *)cls
           withNSString:(NSString *)tableName
withComYahooSquidbDataViewModel_TableModelMappingVisitor:(ComYahooSquidbDataViewModel_TableModelMappingVisitor *)mapper {
  ComYahooSquidbDataViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableModelMappingVisitor_(self, cls, tableName, mapper);
}

- (ComYahooSquidbDataViewModel_TableModelMappingVisitor *)getWithIOSClass:(IOSClass *)cls
                                                             withNSString:(NSString *)tableName {
  id<JavaUtilMap> visitors = [((id<JavaUtilMap>) nil_chk(map_)) getWithId:cls];
  if (visitors == nil) {
    return nil;
  }
  if (tableName == nil) {
    if ([visitors size] == 1) {
      return [((id<JavaUtilIterator>) nil_chk([((id<JavaUtilCollection>) nil_chk([visitors values])) iterator])) next];
    }
    else {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$@$", @"Attempted to mapToModel for class ", cls, @", but multiple table aliases were found and none was specified. Use ViewModel.mapToModel(Class, SqlTable) with a non-null second argument"));
    }
  }
  else {
    return [visitors getWithId:tableName];
  }
}

- (id<JavaUtilSet>)allMappings {
  return [((id<JavaUtilMap>) nil_chk(map_)) entrySet];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 0, 1, -1, 2, -1, -1 },
    { NULL, "LComYahooSquidbDataViewModel_TableModelMappingVisitor;", 0x1, 3, 4, -1, 5, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x1, -1, -1, -1, 6, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(putWithIOSClass:withNSString:withComYahooSquidbDataViewModel_TableModelMappingVisitor:);
  methods[2].selector = @selector(getWithIOSClass:withNSString:);
  methods[3].selector = @selector(allMappings);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "map_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x2, -1, -1, 7, -1 },
  };
  static const void *ptrTable[] = { "put", "LIOSClass;LNSString;LComYahooSquidbDataViewModel_TableModelMappingVisitor;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<TT;>;)V", "get", "LIOSClass;LNSString;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;)Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<TT;>;", "()Ljava/util/Set<Ljava/util/Map$Entry<Ljava/lang/Class<+Lcom/yahoo/squidb/data/AbstractModel;>;Ljava/util/Map<Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<*>;>;>;>;", "Ljava/util/Map<Ljava/lang/Class<+Lcom/yahoo/squidb/data/AbstractModel;>;Ljava/util/Map<Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<*>;>;>;", "LComYahooSquidbDataViewModel;" };
  static const J2ObjcClassInfo _ComYahooSquidbDataViewModel_TableMappingVisitors = { "TableMappingVisitors", "com.yahoo.squidb.data", ptrTable, methods, fields, 7, 0xc, 4, 1, 8, -1, -1, -1, -1 };
  return &_ComYahooSquidbDataViewModel_TableMappingVisitors;
}

@end

void ComYahooSquidbDataViewModel_TableMappingVisitors_init(ComYahooSquidbDataViewModel_TableMappingVisitors *self) {
  NSObject_init(self);
  self->map_ = new_JavaUtilHashMap_init();
}

ComYahooSquidbDataViewModel_TableMappingVisitors *new_ComYahooSquidbDataViewModel_TableMappingVisitors_init() {
  J2OBJC_NEW_IMPL(ComYahooSquidbDataViewModel_TableMappingVisitors, init)
}

ComYahooSquidbDataViewModel_TableMappingVisitors *create_ComYahooSquidbDataViewModel_TableMappingVisitors_init() {
  J2OBJC_CREATE_IMPL(ComYahooSquidbDataViewModel_TableMappingVisitors, init)
}

void ComYahooSquidbDataViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withComYahooSquidbDataViewModel_TableModelMappingVisitor_(ComYahooSquidbDataViewModel_TableMappingVisitors *self, IOSClass *cls, NSString *tableName, ComYahooSquidbDataViewModel_TableModelMappingVisitor *mapper) {
  id<JavaUtilMap> visitors = [((id<JavaUtilMap>) nil_chk(self->map_)) getWithId:cls];
  if (visitors == nil) {
    visitors = new_JavaUtilHashMap_init();
    (void) [((id<JavaUtilMap>) nil_chk(self->map_)) putWithId:cls withId:visitors];
  }
  (void) [visitors putWithId:tableName withId:mapper];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbDataViewModel_TableMappingVisitors)
