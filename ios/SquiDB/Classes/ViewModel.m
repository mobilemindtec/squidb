//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./build/j2objc/java/ViewModel.java
//

#include "AbstractModel.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "Property.h"
#include "SqlTable.h"
#include "TableModelName.h"
#include "ViewModel.h"
#include "java/lang/Boolean.h"
#include "java/lang/Double.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/Void.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

@interface SquiDBViewModel ()

+ (void)constructVisitorWithIOSClass:(IOSClass *)cls
                        withNSString:(NSString *)tableName
withSquiDBViewModel_TableMappingVisitors:(SquiDBViewModel_TableMappingVisitors *)visitors
                    withJavaUtilList:(id<JavaUtilList>)properties
                     withJavaUtilMap:(id<JavaUtilMap>)aliasMap;

@end

__attribute__((unused)) static void SquiDBViewModel_constructVisitorWithIOSClass_withNSString_withSquiDBViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(IOSClass *cls, NSString *tableName, SquiDBViewModel_TableMappingVisitors *visitors, id<JavaUtilList> properties, id<JavaUtilMap> aliasMap);

@interface SquiDBViewModel_TableModelMappingVisitor () {
 @public
  IOSObjectArray *relevantProperties_;
  id<JavaUtilMap> aliasedPropertyMap_;
}

- (SquiDBProperty *)getPropertyToSetWithSquiDBProperty:(SquiDBProperty *)property;

@end

J2OBJC_FIELD_SETTER(SquiDBViewModel_TableModelMappingVisitor, relevantProperties_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(SquiDBViewModel_TableModelMappingVisitor, aliasedPropertyMap_, id<JavaUtilMap>)

__attribute__((unused)) static SquiDBProperty *SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(SquiDBViewModel_TableModelMappingVisitor *self, SquiDBProperty *property);

@interface SquiDBViewModel_TableMappingVisitors () {
 @public
  id<JavaUtilMap> map_;
}

- (void)putWithIOSClass:(IOSClass *)cls
           withNSString:(NSString *)tableName
withSquiDBViewModel_TableModelMappingVisitor:(SquiDBViewModel_TableModelMappingVisitor *)mapper;

@end

J2OBJC_FIELD_SETTER(SquiDBViewModel_TableMappingVisitors, map_, id<JavaUtilMap>)

__attribute__((unused)) static void SquiDBViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withSquiDBViewModel_TableModelMappingVisitor_(SquiDBViewModel_TableMappingVisitors *self, IOSClass *cls, NSString *tableName, SquiDBViewModel_TableModelMappingVisitor *mapper);

@implementation SquiDBViewModel

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  SquiDBViewModel_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (SquiDBViewModel_TableMappingVisitors *)getTableMappingVisitors {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (SquiDBAbstractModel *)mapToModelWithSquiDBAbstractModel:(SquiDBAbstractModel *)dst {
  return [self mapToModelWithSquiDBAbstractModel:dst withNSString:nil];
}

- (SquiDBAbstractModel *)mapToModelWithSquiDBAbstractModel:(SquiDBAbstractModel *)dst
                                        withSquiDBSqlTable:(SquiDBSqlTable *)tableAlias {
  return [self mapToModelWithSquiDBAbstractModel:dst withNSString:[((SquiDBSqlTable *) nil_chk(tableAlias)) getName]];
}

- (SquiDBAbstractModel *)mapToModelWithSquiDBAbstractModel:(SquiDBAbstractModel *)dst
                                              withNSString:(NSString *)tableAlias {
  SquiDBViewModel_TableMappingVisitors *visitors = [self getTableMappingVisitors];
  if (visitors != nil) {
    SquiDBViewModel_TableModelMappingVisitor *mapper = [visitors getWithIOSClass:[((SquiDBAbstractModel *) nil_chk(dst)) java_getClass] withNSString:tableAlias];
    if (mapper != nil) {
      return [mapper mapWithSquiDBViewModel:self withSquiDBAbstractModel:dst];
    }
  }
  return dst;
}

- (id<JavaUtilList>)mapToSourceModels {
  id<JavaUtilList> result = new_JavaUtilArrayList_init();
  SquiDBViewModel_TableMappingVisitors *visitors = [self getTableMappingVisitors];
  if (visitors != nil) {
    id<JavaUtilSet> allMappings = [visitors allMappings];
    for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk(allMappings)) {
      @try {
        IOSClass *cls = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
        id<JavaUtilMap> clsMappers = [entry_ getValue];
        for (NSString * __strong table in nil_chk([((id<JavaUtilMap>) nil_chk(clsMappers)) keySet])) {
          [result addWithId:[self mapToModelWithSquiDBAbstractModel:[((IOSClass *) nil_chk(cls)) newInstance] withNSString:table]];
        }
      }
      @catch (JavaLangException *e) {
        @throw new_JavaLangRuntimeException_initWithJavaLangThrowable_(e);
      }
    }
  }
  return result;
}

+ (void)validateAliasedPropertiesWithSquiDBPropertyArray:(IOSObjectArray *)aliasedPropertyArray {
  SquiDBViewModel_validateAliasedPropertiesWithSquiDBPropertyArray_(aliasedPropertyArray);
}

+ (SquiDBViewModel_TableMappingVisitors *)generateTableMappingVisitorsWithSquiDBPropertyArray:(IOSObjectArray *)viewModelProperties
                                                                      withSquiDBPropertyArray:(IOSObjectArray *)aliasedProperties
                                                                      withSquiDBPropertyArray:(IOSObjectArray *)baseProperties {
  return SquiDBViewModel_generateTableMappingVisitorsWithSquiDBPropertyArray_withSquiDBPropertyArray_withSquiDBPropertyArray_(viewModelProperties, aliasedProperties, baseProperties);
}

+ (void)constructVisitorWithIOSClass:(IOSClass *)cls
                        withNSString:(NSString *)tableName
withSquiDBViewModel_TableMappingVisitors:(SquiDBViewModel_TableMappingVisitors *)visitors
                    withJavaUtilList:(id<JavaUtilList>)properties
                     withJavaUtilMap:(id<JavaUtilMap>)aliasMap {
  SquiDBViewModel_constructVisitorWithIOSClass_withNSString_withSquiDBViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(cls, tableName, visitors, properties, aliasMap);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LSquiDBViewModel_TableMappingVisitors;", 0x404, -1, -1, -1, -1, -1, -1 },
    { NULL, "LSquiDBAbstractModel;", 0x1, 0, 1, -1, 2, -1, -1 },
    { NULL, "LSquiDBAbstractModel;", 0x1, 0, 3, -1, 4, -1, -1 },
    { NULL, "LSquiDBAbstractModel;", 0x1, 0, 5, -1, 6, -1, -1 },
    { NULL, "LJavaUtilList;", 0x1, -1, -1, -1, 7, -1, -1 },
    { NULL, "V", 0xc, 8, 9, -1, 10, -1, -1 },
    { NULL, "LSquiDBViewModel_TableMappingVisitors;", 0xc, 11, 12, -1, 13, -1, -1 },
    { NULL, "V", 0xa, 14, 15, -1, 16, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getTableMappingVisitors);
  methods[2].selector = @selector(mapToModelWithSquiDBAbstractModel:);
  methods[3].selector = @selector(mapToModelWithSquiDBAbstractModel:withSquiDBSqlTable:);
  methods[4].selector = @selector(mapToModelWithSquiDBAbstractModel:withNSString:);
  methods[5].selector = @selector(mapToSourceModels);
  methods[6].selector = @selector(validateAliasedPropertiesWithSquiDBPropertyArray:);
  methods[7].selector = @selector(generateTableMappingVisitorsWithSquiDBPropertyArray:withSquiDBPropertyArray:withSquiDBPropertyArray:);
  methods[8].selector = @selector(constructVisitorWithIOSClass:withNSString:withSquiDBViewModel_TableMappingVisitors:withJavaUtilList:withJavaUtilMap:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "mapToModel", "LSquiDBAbstractModel;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;)TT;", "LSquiDBAbstractModel;LSquiDBSqlTable;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;Lcom/yahoo/squidb/sql/SqlTable<*>;)TT;", "LSquiDBAbstractModel;LNSString;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(TT;Ljava/lang/String;)TT;", "()Ljava/util/List<Lcom/yahoo/squidb/data/AbstractModel;>;", "validateAliasedProperties", "[LSquiDBProperty;", "([Lcom/yahoo/squidb/sql/Property<*>;)V", "generateTableMappingVisitors", "[LSquiDBProperty;[LSquiDBProperty;[LSquiDBProperty;", "([Lcom/yahoo/squidb/sql/Property<*>;[Lcom/yahoo/squidb/sql/Property<*>;[Lcom/yahoo/squidb/sql/Property<*>;)Lcom/yahoo/squidb/data/ViewModel$TableMappingVisitors;", "constructVisitor", "LIOSClass;LNSString;LSquiDBViewModel_TableMappingVisitors;LJavaUtilList;LJavaUtilMap;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableMappingVisitors;Ljava/util/List<Lcom/yahoo/squidb/sql/Property<*>;>;Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;)V", "LSquiDBViewModel_TableModelMappingVisitor;LSquiDBViewModel_TableMappingVisitors;" };
  static const J2ObjcClassInfo _SquiDBViewModel = { "ViewModel", "com.yahoo.squidb.data", ptrTable, methods, NULL, 7, 0x401, 9, 0, -1, 17, -1, -1, -1 };
  return &_SquiDBViewModel;
}

@end

void SquiDBViewModel_init(SquiDBViewModel *self) {
  SquiDBAbstractModel_init(self);
}

void SquiDBViewModel_validateAliasedPropertiesWithSquiDBPropertyArray_(IOSObjectArray *aliasedPropertyArray) {
  SquiDBViewModel_initialize();
  id<JavaUtilMap> numOccurrences = new_JavaUtilHashMap_init();
  id<JavaUtilSet> duplicates = new_JavaUtilHashSet_init();
  {
    IOSObjectArray *a__ = aliasedPropertyArray;
    SquiDBProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    SquiDBProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      SquiDBProperty *p = *b__++;
      NSString *name = [((SquiDBProperty *) nil_chk(p)) getName];
      if ([numOccurrences containsKeyWithId:name]) {
        [duplicates addWithId:name];
        (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_([((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue] + 1)];
      }
      else {
        (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_(1)];
      }
    }
  }
  for (jint i = ((IOSObjectArray *) nil_chk(aliasedPropertyArray))->size_ - 1; i >= 0; i--) {
    SquiDBProperty *base = IOSObjectArray_Get(aliasedPropertyArray, i);
    NSString *name = [((SquiDBProperty *) nil_chk(base)) getName];
    if ([duplicates containsWithId:name]) {
      NSString *alias;
      if ([base isPrimaryKey]) {
        alias = JreStrcat("$$", ((SquiDBTableModelName *) nil_chk(base->tableModelName_))->tableName_, @"Id");
      }
      else {
        jint occurrence = [((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue];
        alias = JreStrcat("$CI", name, '_', occurrence);
      }
      (void) IOSObjectArray_Set(aliasedPropertyArray, i, [base asWithNSString:alias]);
      (void) [numOccurrences putWithId:name withId:JavaLangInteger_valueOfWithInt_([((JavaLangInteger *) nil_chk([numOccurrences getWithId:name])) intValue] - 1)];
    }
  }
}

SquiDBViewModel_TableMappingVisitors *SquiDBViewModel_generateTableMappingVisitorsWithSquiDBPropertyArray_withSquiDBPropertyArray_withSquiDBPropertyArray_(IOSObjectArray *viewModelProperties, IOSObjectArray *aliasedProperties, IOSObjectArray *baseProperties) {
  SquiDBViewModel_initialize();
  SquiDBViewModel_TableMappingVisitors *result = new_SquiDBViewModel_TableMappingVisitors_init();
  id<JavaUtilMap> namesToPositions = new_JavaUtilHashMap_init();
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(aliasedProperties))->size_; i++) {
    (void) [namesToPositions putWithId:[((SquiDBProperty *) nil_chk(IOSObjectArray_Get(aliasedProperties, i))) getName] withId:JavaLangInteger_valueOfWithInt_(i)];
  }
  id<JavaUtilMap> tableToPropertyMap = new_JavaUtilHashMap_init();
  id<JavaUtilMap> aliasedPropertiesMap = new_JavaUtilHashMap_init();
  {
    IOSObjectArray *a__ = viewModelProperties;
    SquiDBProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    SquiDBProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      SquiDBProperty *p = *b__++;
      NSString *name = [((SquiDBProperty *) nil_chk(p)) getName];
      JavaLangInteger *position = [namesToPositions getWithId:name];
      if (position == nil) {
        continue;
      }
      SquiDBProperty *baseProperty = IOSObjectArray_Get(nil_chk(baseProperties), [position intValue]);
      SquiDBTableModelName *table = ((SquiDBProperty *) nil_chk(baseProperty))->tableModelName_;
      if (table == nil) {
        continue;
      }
      id<JavaUtilList> propertyList = [tableToPropertyMap getWithId:table];
      if (propertyList == nil) {
        propertyList = new_JavaUtilArrayList_init();
        (void) [tableToPropertyMap putWithId:table withId:propertyList];
      }
      [propertyList addWithId:p];
      if (![((NSString *) nil_chk([p getName])) isEqual:[baseProperty getName]]) {
        id<JavaUtilMap> aliasedForTable = [aliasedPropertiesMap getWithId:table];
        if (aliasedForTable == nil) {
          aliasedForTable = new_JavaUtilHashMap_init();
          (void) [aliasedPropertiesMap putWithId:table withId:aliasedForTable];
        }
        (void) [aliasedForTable putWithId:p withId:baseProperty];
      }
    }
  }
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([tableToPropertyMap entrySet])) {
    SquiDBTableModelName *tableModelName = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
    id<JavaUtilList> properties = [entry_ getValue];
    id<JavaUtilMap> aliasMap = [aliasedPropertiesMap getWithId:tableModelName];
    SquiDBViewModel_constructVisitorWithIOSClass_withNSString_withSquiDBViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(((SquiDBTableModelName *) nil_chk(tableModelName))->modelClass_, tableModelName->tableName_, result, properties, aliasMap);
  }
  return result;
}

void SquiDBViewModel_constructVisitorWithIOSClass_withNSString_withSquiDBViewModel_TableMappingVisitors_withJavaUtilList_withJavaUtilMap_(IOSClass *cls, NSString *tableName, SquiDBViewModel_TableMappingVisitors *visitors, id<JavaUtilList> properties, id<JavaUtilMap> aliasMap) {
  SquiDBViewModel_initialize();
  if (cls != nil) {
    SquiDBViewModel_TableModelMappingVisitor *visitor = new_SquiDBViewModel_TableModelMappingVisitor_initWithSquiDBPropertyArray_withJavaUtilMap_([((id<JavaUtilList>) nil_chk(properties)) toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[properties size] type:SquiDBProperty_class_()]], aliasMap);
    SquiDBViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withSquiDBViewModel_TableModelMappingVisitor_(nil_chk(visitors), cls, tableName, visitor);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(SquiDBViewModel)

J2OBJC_NAME_MAPPING(SquiDBViewModel, "com.yahoo.squidb.data", "SquiDB")

@implementation SquiDBViewModel_TableModelMappingVisitor

- (instancetype)initWithSquiDBPropertyArray:(IOSObjectArray *)relevantProperties
                            withJavaUtilMap:(id<JavaUtilMap>)aliasedPropertyMap {
  SquiDBViewModel_TableModelMappingVisitor_initWithSquiDBPropertyArray_withJavaUtilMap_(self, relevantProperties, aliasedPropertyMap);
  return self;
}

- (SquiDBAbstractModel *)mapWithSquiDBViewModel:(SquiDBViewModel *)src
                        withSquiDBAbstractModel:(SquiDBAbstractModel *)dst {
  {
    IOSObjectArray *a__ = relevantProperties_;
    SquiDBProperty * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    SquiDBProperty * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      SquiDBProperty *p = *b__++;
      (void) [((SquiDBProperty *) nil_chk(p)) acceptWithSquiDBProperty_PropertyWritingVisitor:self withId:dst withId:src];
    }
  }
  return dst;
}

- (JavaLangVoid *)visitIntegerWithSquiDBProperty:(SquiDBProperty *)property
                                          withId:(SquiDBAbstractModel *)dst
                                          withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitLongWithSquiDBProperty:(SquiDBProperty *)property
                                       withId:(SquiDBAbstractModel *)dst
                                       withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitDoubleWithSquiDBProperty:(SquiDBProperty *)property
                                         withId:(SquiDBAbstractModel *)dst
                                         withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitStringWithSquiDBProperty:(SquiDBProperty *)property
                                         withId:(SquiDBAbstractModel *)dst
                                         withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitBooleanWithSquiDBProperty:(SquiDBProperty *)property
                                          withId:(SquiDBAbstractModel *)dst
                                          withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (JavaLangVoid *)visitBlobWithSquiDBProperty:(SquiDBProperty *)property
                                       withId:(SquiDBAbstractModel *)dst
                                       withId:(SquiDBViewModel *)src {
  SquiDBProperty *toSet = SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
  if ([((SquiDBViewModel *) nil_chk(src)) containsValueWithSquiDBProperty:property]) {
    [((SquiDBAbstractModel *) nil_chk(dst)) setWithSquiDBProperty:toSet withId:[src getWithSquiDBProperty:property]];
  }
  return nil;
}

- (SquiDBProperty *)getPropertyToSetWithSquiDBProperty:(SquiDBProperty *)property {
  return SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(self, property);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, "LSquiDBAbstractModel;", 0x1, 2, 3, -1, 4, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 5, 6, -1, 7, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 8, 6, -1, 9, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 10, 6, -1, 11, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 12, 6, -1, 13, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 14, 6, -1, 15, -1, -1 },
    { NULL, "LJavaLangVoid;", 0x1, 16, 6, -1, 17, -1, -1 },
    { NULL, "LSquiDBProperty;", 0x2, 18, 19, -1, 20, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithSquiDBPropertyArray:withJavaUtilMap:);
  methods[1].selector = @selector(mapWithSquiDBViewModel:withSquiDBAbstractModel:);
  methods[2].selector = @selector(visitIntegerWithSquiDBProperty:withId:withId:);
  methods[3].selector = @selector(visitLongWithSquiDBProperty:withId:withId:);
  methods[4].selector = @selector(visitDoubleWithSquiDBProperty:withId:withId:);
  methods[5].selector = @selector(visitStringWithSquiDBProperty:withId:withId:);
  methods[6].selector = @selector(visitBooleanWithSquiDBProperty:withId:withId:);
  methods[7].selector = @selector(visitBlobWithSquiDBProperty:withId:withId:);
  methods[8].selector = @selector(getPropertyToSetWithSquiDBProperty:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "relevantProperties_", "[LSquiDBProperty;", .constantValue.asLong = 0, 0x12, -1, -1, 21, -1 },
    { "aliasedPropertyMap_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 22, -1 },
  };
  static const void *ptrTable[] = { "[LSquiDBProperty;LJavaUtilMap;", "([Lcom/yahoo/squidb/sql/Property<*>;Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;)V", "map", "LSquiDBViewModel;LSquiDBAbstractModel;", "(Lcom/yahoo/squidb/data/ViewModel;TT;)TT;", "visitInteger", "LSquiDBProperty;LSquiDBAbstractModel;LSquiDBViewModel;", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Integer;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitLong", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Long;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitDouble", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Double;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitString", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/String;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitBoolean", "(Lcom/yahoo/squidb/sql/Property<Ljava/lang/Boolean;>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "visitBlob", "(Lcom/yahoo/squidb/sql/Property<[B>;TT;Lcom/yahoo/squidb/data/ViewModel;)Ljava/lang/Void;", "getPropertyToSet", "LSquiDBProperty;", "<PT:Ljava/lang/Object;>(Lcom/yahoo/squidb/sql/Property<TPT;>;)Lcom/yahoo/squidb/sql/Property<TPT;>;", "[Lcom/yahoo/squidb/sql/Property<*>;", "Ljava/util/Map<Lcom/yahoo/squidb/sql/Property<*>;Lcom/yahoo/squidb/sql/Property<*>;>;", "LSquiDBViewModel;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>Ljava/lang/Object;Lcom/yahoo/squidb/sql/Property$PropertyWritingVisitor<Ljava/lang/Void;TT;Lcom/yahoo/squidb/data/ViewModel;>;" };
  static const J2ObjcClassInfo _SquiDBViewModel_TableModelMappingVisitor = { "TableModelMappingVisitor", "com.yahoo.squidb.data", ptrTable, methods, fields, 7, 0xc, 9, 2, 23, -1, -1, 24, -1 };
  return &_SquiDBViewModel_TableModelMappingVisitor;
}

@end

void SquiDBViewModel_TableModelMappingVisitor_initWithSquiDBPropertyArray_withJavaUtilMap_(SquiDBViewModel_TableModelMappingVisitor *self, IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  NSObject_init(self);
  self->relevantProperties_ = relevantProperties;
  self->aliasedPropertyMap_ = aliasedPropertyMap;
}

SquiDBViewModel_TableModelMappingVisitor *new_SquiDBViewModel_TableModelMappingVisitor_initWithSquiDBPropertyArray_withJavaUtilMap_(IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  J2OBJC_NEW_IMPL(SquiDBViewModel_TableModelMappingVisitor, initWithSquiDBPropertyArray_withJavaUtilMap_, relevantProperties, aliasedPropertyMap)
}

SquiDBViewModel_TableModelMappingVisitor *create_SquiDBViewModel_TableModelMappingVisitor_initWithSquiDBPropertyArray_withJavaUtilMap_(IOSObjectArray *relevantProperties, id<JavaUtilMap> aliasedPropertyMap) {
  J2OBJC_CREATE_IMPL(SquiDBViewModel_TableModelMappingVisitor, initWithSquiDBPropertyArray_withJavaUtilMap_, relevantProperties, aliasedPropertyMap)
}

SquiDBProperty *SquiDBViewModel_TableModelMappingVisitor_getPropertyToSetWithSquiDBProperty_(SquiDBViewModel_TableModelMappingVisitor *self, SquiDBProperty *property) {
  if (self->aliasedPropertyMap_ == nil || ![self->aliasedPropertyMap_ containsKeyWithId:property]) {
    return property;
  }
  return [self->aliasedPropertyMap_ getWithId:property];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(SquiDBViewModel_TableModelMappingVisitor)

@implementation SquiDBViewModel_TableMappingVisitors

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  SquiDBViewModel_TableMappingVisitors_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)putWithIOSClass:(IOSClass *)cls
           withNSString:(NSString *)tableName
withSquiDBViewModel_TableModelMappingVisitor:(SquiDBViewModel_TableModelMappingVisitor *)mapper {
  SquiDBViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withSquiDBViewModel_TableModelMappingVisitor_(self, cls, tableName, mapper);
}

- (SquiDBViewModel_TableModelMappingVisitor *)getWithIOSClass:(IOSClass *)cls
                                                 withNSString:(NSString *)tableName {
  id<JavaUtilMap> visitors = [((id<JavaUtilMap>) nil_chk(map_)) getWithId:cls];
  if (visitors == nil) {
    return nil;
  }
  if (tableName == nil) {
    if ([visitors size] == 1) {
      return [((id<JavaUtilIterator>) nil_chk([((id<JavaUtilCollection>) nil_chk([visitors values])) iterator])) next];
    }
    else {
      @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$@$", @"Attempted to mapToModel for class ", cls, @", but multiple table aliases were found and none was specified. Use ViewModel.mapToModel(Class, SqlTable) with a non-null second argument"));
    }
  }
  else {
    return [visitors getWithId:tableName];
  }
}

- (id<JavaUtilSet>)allMappings {
  return [((id<JavaUtilMap>) nil_chk(map_)) entrySet];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 0, 1, -1, 2, -1, -1 },
    { NULL, "LSquiDBViewModel_TableModelMappingVisitor;", 0x1, 3, 4, -1, 5, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x1, -1, -1, -1, 6, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(putWithIOSClass:withNSString:withSquiDBViewModel_TableModelMappingVisitor:);
  methods[2].selector = @selector(getWithIOSClass:withNSString:);
  methods[3].selector = @selector(allMappings);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "map_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x2, -1, -1, 7, -1 },
  };
  static const void *ptrTable[] = { "put", "LIOSClass;LNSString;LSquiDBViewModel_TableModelMappingVisitor;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<TT;>;)V", "get", "LIOSClass;LNSString;", "<T:Lcom/yahoo/squidb/data/AbstractModel;>(Ljava/lang/Class<TT;>;Ljava/lang/String;)Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<TT;>;", "()Ljava/util/Set<Ljava/util/Map$Entry<Ljava/lang/Class<+Lcom/yahoo/squidb/data/AbstractModel;>;Ljava/util/Map<Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<*>;>;>;>;", "Ljava/util/Map<Ljava/lang/Class<+Lcom/yahoo/squidb/data/AbstractModel;>;Ljava/util/Map<Ljava/lang/String;Lcom/yahoo/squidb/data/ViewModel$TableModelMappingVisitor<*>;>;>;", "LSquiDBViewModel;" };
  static const J2ObjcClassInfo _SquiDBViewModel_TableMappingVisitors = { "TableMappingVisitors", "com.yahoo.squidb.data", ptrTable, methods, fields, 7, 0xc, 4, 1, 8, -1, -1, -1, -1 };
  return &_SquiDBViewModel_TableMappingVisitors;
}

@end

void SquiDBViewModel_TableMappingVisitors_init(SquiDBViewModel_TableMappingVisitors *self) {
  NSObject_init(self);
  self->map_ = new_JavaUtilHashMap_init();
}

SquiDBViewModel_TableMappingVisitors *new_SquiDBViewModel_TableMappingVisitors_init() {
  J2OBJC_NEW_IMPL(SquiDBViewModel_TableMappingVisitors, init)
}

SquiDBViewModel_TableMappingVisitors *create_SquiDBViewModel_TableMappingVisitors_init() {
  J2OBJC_CREATE_IMPL(SquiDBViewModel_TableMappingVisitors, init)
}

void SquiDBViewModel_TableMappingVisitors_putWithIOSClass_withNSString_withSquiDBViewModel_TableModelMappingVisitor_(SquiDBViewModel_TableMappingVisitors *self, IOSClass *cls, NSString *tableName, SquiDBViewModel_TableModelMappingVisitor *mapper) {
  id<JavaUtilMap> visitors = [((id<JavaUtilMap>) nil_chk(self->map_)) getWithId:cls];
  if (visitors == nil) {
    visitors = new_JavaUtilHashMap_init();
    (void) [((id<JavaUtilMap>) nil_chk(self->map_)) putWithId:cls withId:visitors];
  }
  (void) [visitors putWithId:tableName withId:mapper];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(SquiDBViewModel_TableMappingVisitors)
