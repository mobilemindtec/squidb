//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./build/j2objc/java/Query.java
//

#include "CompoundSelect.h"
#include "Criterion.h"
#include "Field.h"
#include "Function.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "Join.h"
#include "Query.h"
#include "SqlBuilder.h"
#include "SqlTable.h"
#include "SquidUtilities.h"
#include "SubqueryTable.h"
#include "TableStatement.h"
#include "View.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"

@interface SquiDBQuery () {
 @public
  SquiDBSqlTable *table_;
  JavaUtilArrayList *fields_;
  JavaUtilArrayList *criterions_;
  JavaUtilArrayList *joins_;
  JavaUtilArrayList *groupByFields_;
  JavaUtilArrayList *havings_;
  JavaUtilArrayList *compoundSelects_;
  JavaUtilArrayList *orders_;
  SquiDBField *limit_;
  SquiDBField *offset_;
  jboolean distinct_;
  jboolean immutable_;
  jboolean needsValidation_;
  JavaUtilArrayList *selectAllCache_;
}

- (instancetype)initWithJavaUtilList:(id<JavaUtilList>)fields;

- (instancetype)initWithSquiDBFieldArray:(IOSObjectArray *)fields;

- (void)addCompoundSelectWithSquiDBCompoundSelect:(SquiDBCompoundSelect *)compoundSelect;

- (void)visitSelectClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                  withBoolean:(jboolean)forSqlValidation;

- (void)visitFromClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                withBoolean:(jboolean)forSqlValidation;

- (void)visitJoinClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                withBoolean:(jboolean)forSqlValidation;

- (void)visitWhereClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                 withBoolean:(jboolean)forSqlValidation;

- (void)visitGroupByClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                   withBoolean:(jboolean)forSqlValidation;

- (void)visitCompoundSelectClausesWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                           withBoolean:(jboolean)forSqlValidation;

- (void)visitOrderByClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                   withBoolean:(jboolean)forSqlValidation;

- (void)visitLimitClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                 withBoolean:(jboolean)forSqlValidation;

- (jboolean)isEmptyWithJavaUtilList:(id<JavaUtilList>)list;

- (jboolean)isEmptyWithNSObjectArray:(IOSObjectArray *)array;

- (JavaUtilArrayList *)forkListWithJavaUtilArrayList:(JavaUtilArrayList *)list;

@end

J2OBJC_FIELD_SETTER(SquiDBQuery, table_, SquiDBSqlTable *)
J2OBJC_FIELD_SETTER(SquiDBQuery, fields_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, criterions_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, joins_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, groupByFields_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, havings_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, compoundSelects_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, orders_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(SquiDBQuery, limit_, SquiDBField *)
J2OBJC_FIELD_SETTER(SquiDBQuery, offset_, SquiDBField *)
J2OBJC_FIELD_SETTER(SquiDBQuery, selectAllCache_, JavaUtilArrayList *)

__attribute__((unused)) static void SquiDBQuery_initWithJavaUtilList_(SquiDBQuery *self, id<JavaUtilList> fields);

__attribute__((unused)) static SquiDBQuery *new_SquiDBQuery_initWithJavaUtilList_(id<JavaUtilList> fields) NS_RETURNS_RETAINED;

__attribute__((unused)) static SquiDBQuery *create_SquiDBQuery_initWithJavaUtilList_(id<JavaUtilList> fields);

__attribute__((unused)) static void SquiDBQuery_initWithSquiDBFieldArray_(SquiDBQuery *self, IOSObjectArray *fields);

__attribute__((unused)) static SquiDBQuery *new_SquiDBQuery_initWithSquiDBFieldArray_(IOSObjectArray *fields) NS_RETURNS_RETAINED;

__attribute__((unused)) static SquiDBQuery *create_SquiDBQuery_initWithSquiDBFieldArray_(IOSObjectArray *fields);

__attribute__((unused)) static void SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(SquiDBQuery *self, SquiDBCompoundSelect *compoundSelect);

__attribute__((unused)) static void SquiDBQuery_visitSelectClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitFromClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitJoinClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitWhereClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitGroupByClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitCompoundSelectClausesWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitOrderByClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static void SquiDBQuery_visitLimitClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation);

__attribute__((unused)) static jboolean SquiDBQuery_isEmptyWithJavaUtilList_(SquiDBQuery *self, id<JavaUtilList> list);

__attribute__((unused)) static jboolean SquiDBQuery_isEmptyWithNSObjectArray_(SquiDBQuery *self, IOSObjectArray *array);

__attribute__((unused)) static JavaUtilArrayList *SquiDBQuery_forkListWithJavaUtilArrayList_(SquiDBQuery *self, JavaUtilArrayList *list);

J2OBJC_INITIALIZED_DEFN(SquiDBQuery)

SquiDBField *SquiDBQuery_NO_LIMIT;
SquiDBField *SquiDBQuery_NO_OFFSET;

@implementation SquiDBQuery

+ (SquiDBField *)NO_LIMIT {
  return SquiDBQuery_NO_LIMIT;
}

+ (SquiDBField *)NO_OFFSET {
  return SquiDBQuery_NO_OFFSET;
}

- (instancetype)initWithJavaUtilList:(id<JavaUtilList>)fields {
  SquiDBQuery_initWithJavaUtilList_(self, fields);
  return self;
}

- (instancetype)initWithSquiDBFieldArray:(IOSObjectArray *)fields {
  SquiDBQuery_initWithSquiDBFieldArray_(self, fields);
  return self;
}

+ (SquiDBQuery *)selectWithSquiDBFieldArray:(IOSObjectArray *)fields {
  return SquiDBQuery_selectWithSquiDBFieldArray_(fields);
}

+ (SquiDBQuery *)selectWithJavaUtilList:(id<JavaUtilList>)fields {
  return SquiDBQuery_selectWithJavaUtilList_(fields);
}

+ (SquiDBQuery *)selectDistinctWithSquiDBFieldArray:(IOSObjectArray *)fields {
  return SquiDBQuery_selectDistinctWithSquiDBFieldArray_(fields);
}

+ (SquiDBQuery *)selectDistinctWithJavaUtilList:(id<JavaUtilList>)fields {
  return SquiDBQuery_selectDistinctWithJavaUtilList_(fields);
}

+ (SquiDBQuery *)fromSubqueryWithSquiDBQuery:(SquiDBQuery *)subquery
                                withNSString:(NSString *)subqueryAlias {
  return SquiDBQuery_fromSubqueryWithSquiDBQuery_withNSString_(subquery, subqueryAlias);
}

+ (SquiDBQuery *)fromViewWithSquiDBView:(SquiDBView *)view {
  return SquiDBQuery_fromViewWithSquiDBView_(view);
}

- (SquiDBQuery *)selectMoreWithSquiDBFieldArray:(IOSObjectArray *)fields {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) selectMoreWithSquiDBFieldArray:fields];
  }
  if (!SquiDBQuery_isEmptyWithNSObjectArray_(self, fields)) {
    if (self->fields_ == nil) {
      self->fields_ = new_JavaUtilArrayList_init();
    }
    SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(self->fields_, fields);
    if (selectAllCache_ != nil) {
      [selectAllCache_ clear];
    }
    [self invalidateCompileCache];
  }
  return self;
}

- (SquiDBQuery *)selectMoreWithJavaUtilList:(id<JavaUtilList>)fields {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) selectMoreWithJavaUtilList:fields];
  }
  if (!SquiDBQuery_isEmptyWithJavaUtilList_(self, fields)) {
    if (self->fields_ == nil) {
      self->fields_ = new_JavaUtilArrayList_initWithJavaUtilCollection_(fields);
    }
    else {
      [self->fields_ addAllWithJavaUtilCollection:fields];
    }
    if (selectAllCache_ != nil) {
      [selectAllCache_ clear];
    }
    [self invalidateCompileCache];
  }
  return self;
}

- (SquiDBQuery *)fromWithSquiDBSqlTable:(SquiDBSqlTable *)table {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) fromWithSquiDBSqlTable:table];
  }
  if (self->table_ != table) {
    self->table_ = table;
    if (selectAllCache_ != nil) {
      [selectAllCache_ clear];
    }
    [self invalidateCompileCache];
  }
  return self;
}

- (SquiDBQuery *)joinWithSquiDBJoinArray:(IOSObjectArray *)joins {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) joinWithSquiDBJoinArray:joins];
  }
  if (self->joins_ == nil) {
    self->joins_ = new_JavaUtilArrayList_init();
  }
  SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(self->joins_, joins);
  if (selectAllCache_ != nil) {
    [selectAllCache_ clear];
  }
  [self invalidateCompileCache];
  return self;
}

- (SquiDBQuery *)leftJoinWithSquiDBSqlTable:(SquiDBSqlTable *)table
                   withSquiDBCriterionArray:(IOSObjectArray *)onCriterions {
  return [self joinWithSquiDBJoinArray:[IOSObjectArray newArrayWithObjects:(id[]){ SquiDBJoin_leftWithSquiDBSqlTable_withSquiDBCriterionArray_(table, onCriterions) } count:1 type:SquiDBJoin_class_()]];
}

- (SquiDBQuery *)leftJoinWithSquiDBSqlTable:(SquiDBSqlTable *)table
                    withSquiDBPropertyArray:(IOSObjectArray *)usingColumns {
  return [self joinWithSquiDBJoinArray:[IOSObjectArray newArrayWithObjects:(id[]){ SquiDBJoin_leftWithSquiDBSqlTable_withSquiDBPropertyArray_(table, usingColumns) } count:1 type:SquiDBJoin_class_()]];
}

- (SquiDBQuery *)innerJoinWithSquiDBSqlTable:(SquiDBSqlTable *)table
                    withSquiDBCriterionArray:(IOSObjectArray *)onCriterions {
  return [self joinWithSquiDBJoinArray:[IOSObjectArray newArrayWithObjects:(id[]){ SquiDBJoin_innerWithSquiDBSqlTable_withSquiDBCriterionArray_(table, onCriterions) } count:1 type:SquiDBJoin_class_()]];
}

- (SquiDBQuery *)innerJoinWithSquiDBSqlTable:(SquiDBSqlTable *)table
                     withSquiDBPropertyArray:(IOSObjectArray *)usingColumns {
  return [self joinWithSquiDBJoinArray:[IOSObjectArray newArrayWithObjects:(id[]){ SquiDBJoin_innerWithSquiDBSqlTable_withSquiDBPropertyArray_(table, usingColumns) } count:1 type:SquiDBJoin_class_()]];
}

- (SquiDBQuery *)whereWithSquiDBCriterion:(SquiDBCriterion *)criterion {
  if (criterion == nil) {
    return self;
  }
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) whereWithSquiDBCriterion:criterion];
  }
  if (criterions_ == nil) {
    criterions_ = new_JavaUtilArrayList_init();
  }
  [criterions_ addWithId:criterion];
  [self invalidateCompileCache];
  return self;
}

- (SquiDBQuery *)groupByWithSquiDBFieldArray:(IOSObjectArray *)fields {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) groupByWithSquiDBFieldArray:fields];
  }
  if (self->groupByFields_ == nil) {
    self->groupByFields_ = new_JavaUtilArrayList_init();
  }
  SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(self->groupByFields_, fields);
  [self invalidateCompileCache];
  return self;
}

- (SquiDBQuery *)havingWithSquiDBCriterion:(SquiDBCriterion *)criterion {
  if (criterion == nil) {
    return self;
  }
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) havingWithSquiDBCriterion:criterion];
  }
  if (self->havings_ == nil) {
    self->havings_ = new_JavaUtilArrayList_init();
  }
  [self->havings_ addWithId:criterion];
  [self invalidateCompileCache];
  return self;
}

- (SquiDBQuery *)union__WithSquiDBQuery:(SquiDBQuery *)query {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) union__WithSquiDBQuery:query];
  }
  SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(self, SquiDBCompoundSelect_union__WithSquiDBQuery_(query));
  return self;
}

- (SquiDBQuery *)unionAllWithSquiDBQuery:(SquiDBQuery *)query {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) unionAllWithSquiDBQuery:query];
  }
  SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(self, SquiDBCompoundSelect_unionAllWithSquiDBQuery_(query));
  return self;
}

- (SquiDBQuery *)intersectWithSquiDBQuery:(SquiDBQuery *)query {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) intersectWithSquiDBQuery:query];
  }
  SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(self, SquiDBCompoundSelect_intersectWithSquiDBQuery_(query));
  return self;
}

- (SquiDBQuery *)exceptWithSquiDBQuery:(SquiDBQuery *)query {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) exceptWithSquiDBQuery:query];
  }
  SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(self, SquiDBCompoundSelect_exceptWithSquiDBQuery_(query));
  return self;
}

- (void)addCompoundSelectWithSquiDBCompoundSelect:(SquiDBCompoundSelect *)compoundSelect {
  SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(self, compoundSelect);
}

- (SquiDBQuery *)orderByWithSquiDBOrderArray:(IOSObjectArray *)orders {
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) orderByWithSquiDBOrderArray:orders];
  }
  if (self->orders_ == nil) {
    self->orders_ = new_JavaUtilArrayList_init();
  }
  SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(self->orders_, orders);
  [self invalidateCompileCache];
  return self;
}

- (SquiDBQuery *)limitWithInt:(jint)limit {
  return [self limitWithSquiDBField:limit < 0 ? SquiDBQuery_NO_LIMIT : SquiDBField_fieldWithNSString_(JavaLangInteger_toStringWithInt_(limit))];
}

- (SquiDBQuery *)limitWithInt:(jint)limit
                      withInt:(jint)offset {
  return [self limitWithSquiDBField:limit < 0 ? SquiDBQuery_NO_LIMIT : SquiDBField_fieldWithNSString_(JavaLangInteger_toStringWithInt_(limit)) withSquiDBField:offset < 1 ? SquiDBQuery_NO_OFFSET : SquiDBField_fieldWithNSString_(JavaLangInteger_toStringWithInt_(offset))];
}

- (SquiDBQuery *)limitWithSquiDBField:(SquiDBField *)limit {
  if (limit == nil) {
    limit = SquiDBQuery_NO_LIMIT;
  }
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) limitWithSquiDBField:limit];
  }
  if (![((SquiDBField *) nil_chk(self->limit_)) isEqual:limit]) {
    self->limit_ = limit;
    [self invalidateCompileCache];
  }
  return self;
}

- (SquiDBQuery *)limitWithSquiDBField:(SquiDBField *)limit
                      withSquiDBField:(SquiDBField *)offset {
  if (limit == nil) {
    limit = SquiDBQuery_NO_LIMIT;
  }
  if (offset == nil) {
    offset = SquiDBQuery_NO_OFFSET;
  }
  if (immutable_) {
    return [((SquiDBQuery *) nil_chk([self fork])) limitWithSquiDBField:limit withSquiDBField:offset];
  }
  if (![((SquiDBField *) nil_chk(self->limit_)) isEqual:limit] || ![((SquiDBField *) nil_chk(self->offset_)) isEqual:offset]) {
    self->limit_ = limit;
    self->offset_ = offset;
    [self invalidateCompileCache];
  }
  return self;
}

- (SquiDBField *)getLimit {
  return limit_;
}

- (SquiDBField *)getOffset {
  return offset_;
}

- (void)requestValidation {
  self->needsValidation_ = true;
}

- (jboolean)needsValidation {
  return needsValidation_;
}

- (jboolean)isEqual:(id)o {
  return self == o || (!(o == nil || [self java_getClass] != [o java_getClass]) && [((NSString *) nil_chk([self description])) isEqual:[nil_chk(o) description]]);
}

- (NSUInteger)hash {
  return ((jint) [((NSString *) nil_chk([self description])) hash]);
}

- (void)appendToSqlBuilderWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                   withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitSelectClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitFromClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitJoinClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitWhereClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitGroupByClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitCompoundSelectClausesWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitOrderByClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  SquiDBQuery_visitLimitClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
  if (needsValidation_) {
    [((SquiDBSqlBuilder *) nil_chk(builder)) setNeedsValidation];
  }
}

- (void)visitSelectClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                  withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitSelectClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitFromClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitFromClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitJoinClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitJoinClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitWhereClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                 withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitWhereClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitGroupByClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                   withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitGroupByClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitCompoundSelectClausesWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                           withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitCompoundSelectClausesWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitOrderByClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                   withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitOrderByClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (void)visitLimitClauseWithSquiDBSqlBuilder:(SquiDBSqlBuilder *)builder
                                 withBoolean:(jboolean)forSqlValidation {
  SquiDBQuery_visitLimitClauseWithSquiDBSqlBuilder_withBoolean_(self, builder, forSqlValidation);
}

- (SquiDBSqlTable *)getTable {
  return self->table_;
}

- (jboolean)hasTable {
  return self->table_ != nil;
}

- (SquiDBSubqueryTable *)asWithNSString:(NSString *)alias {
  return SquiDBSubqueryTable_fromQueryWithSquiDBQuery_withNSString_(self, alias);
}

- (SquiDBSubqueryTable *)asWithNSString:(NSString *)alias
                           withIOSClass:(IOSClass *)modelClass
                withSquiDBPropertyArray:(IOSObjectArray *)properties {
  return SquiDBSubqueryTable_fromQueryWithSquiDBQuery_withNSString_withIOSClass_withSquiDBPropertyArray_(self, alias, modelClass, properties);
}

- (SquiDBFunction *)asFunction {
  return SquiDBFunction_fromQueryWithSquiDBQuery_(self);
}

- (SquiDBQuery *)fork {
  SquiDBQuery *newQuery = new_SquiDBQuery_initWithJavaUtilList_(fields_);
  newQuery->table_ = table_;
  newQuery->criterions_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, criterions_);
  newQuery->joins_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, joins_);
  newQuery->groupByFields_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, groupByFields_);
  newQuery->compoundSelects_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, compoundSelects_);
  newQuery->orders_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, orders_);
  newQuery->havings_ = SquiDBQuery_forkListWithJavaUtilArrayList_(self, havings_);
  newQuery->limit_ = limit_;
  newQuery->offset_ = offset_;
  newQuery->distinct_ = distinct_;
  newQuery->needsValidation_ = needsValidation_;
  return newQuery;
}

- (jboolean)isEmptyWithJavaUtilList:(id<JavaUtilList>)list {
  return SquiDBQuery_isEmptyWithJavaUtilList_(self, list);
}

- (jboolean)isEmptyWithNSObjectArray:(IOSObjectArray *)array {
  return SquiDBQuery_isEmptyWithNSObjectArray_(self, array);
}

- (JavaUtilArrayList *)forkListWithJavaUtilArrayList:(JavaUtilArrayList *)list {
  return SquiDBQuery_forkListWithJavaUtilArrayList_(self, list);
}

- (SquiDBQuery *)freeze {
  self->immutable_ = true;
  return self;
}

- (jboolean)isImmutable {
  return immutable_;
}

- (id<JavaUtilList>)getFields {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, selectAllCache_)) {
    if (selectAllCache_ == nil) {
      selectAllCache_ = new_JavaUtilArrayList_init();
    }
    if (!SquiDBQuery_isEmptyWithJavaUtilList_(self, fields_)) {
      [((JavaUtilArrayList *) nil_chk(selectAllCache_)) addAllWithJavaUtilCollection:fields_];
    }
    else {
      SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(selectAllCache_, [((SquiDBSqlTable *) nil_chk(table_)) allFields]);
      if (joins_ != nil) {
        for (SquiDBJoin * __strong join in joins_) {
          SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(selectAllCache_, [((SquiDBSqlTable *) nil_chk(((SquiDBJoin *) nil_chk(join))->joinTable_)) allFields]);
        }
      }
    }
  }
  return new_JavaUtilArrayList_initWithJavaUtilCollection_(selectAllCache_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, 1, -1, -1 },
    { NULL, NULL, 0x82, -1, 2, -1, 3, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x89, 4, 2, -1, 5, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x9, 4, 0, -1, 6, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x89, 7, 2, -1, 5, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x9, 7, 0, -1, 6, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x9, 8, 9, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x9, 10, 11, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 12, 2, -1, 5, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 12, 0, -1, 6, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 13, 14, -1, 15, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 16, 17, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 18, 19, -1, 20, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 18, 21, -1, 22, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 23, 19, -1, 20, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 23, 21, -1, 22, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 24, 25, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 26, 2, -1, 5, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 27, 25, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 28, 29, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 30, 29, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 31, 29, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 32, 29, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 33, 34, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x81, 35, 36, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 37, 38, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 37, 39, -1, -1, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 37, 40, -1, 41, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, 37, 42, -1, 43, -1, -1 },
    { NULL, "LSquiDBField;", 0x1, -1, -1, -1, 44, -1, -1 },
    { NULL, "LSquiDBField;", 0x1, -1, -1, -1, 44, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 45, 46, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 47, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 48, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 50, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 51, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 52, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 53, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 54, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 55, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 56, 49, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 57, 49, -1, -1, -1, -1 },
    { NULL, "LSquiDBSqlTable;", 0x1, -1, -1, -1, 58, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LSquiDBSubqueryTable;", 0x1, 59, 60, -1, -1, -1, -1 },
    { NULL, "LSquiDBSubqueryTable;", 0x1, 59, 61, -1, 62, -1, -1 },
    { NULL, "LSquiDBFunction;", 0x1, -1, -1, -1, 63, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 64, 0, -1, 65, -1, -1 },
    { NULL, "Z", 0x2, 64, 66, -1, 67, -1, -1 },
    { NULL, "LJavaUtilArrayList;", 0x2, 68, 69, -1, 70, -1, -1 },
    { NULL, "LSquiDBQuery;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilList;", 0x1, -1, -1, -1, 71, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaUtilList:);
  methods[1].selector = @selector(initWithSquiDBFieldArray:);
  methods[2].selector = @selector(selectWithSquiDBFieldArray:);
  methods[3].selector = @selector(selectWithJavaUtilList:);
  methods[4].selector = @selector(selectDistinctWithSquiDBFieldArray:);
  methods[5].selector = @selector(selectDistinctWithJavaUtilList:);
  methods[6].selector = @selector(fromSubqueryWithSquiDBQuery:withNSString:);
  methods[7].selector = @selector(fromViewWithSquiDBView:);
  methods[8].selector = @selector(selectMoreWithSquiDBFieldArray:);
  methods[9].selector = @selector(selectMoreWithJavaUtilList:);
  methods[10].selector = @selector(fromWithSquiDBSqlTable:);
  methods[11].selector = @selector(joinWithSquiDBJoinArray:);
  methods[12].selector = @selector(leftJoinWithSquiDBSqlTable:withSquiDBCriterionArray:);
  methods[13].selector = @selector(leftJoinWithSquiDBSqlTable:withSquiDBPropertyArray:);
  methods[14].selector = @selector(innerJoinWithSquiDBSqlTable:withSquiDBCriterionArray:);
  methods[15].selector = @selector(innerJoinWithSquiDBSqlTable:withSquiDBPropertyArray:);
  methods[16].selector = @selector(whereWithSquiDBCriterion:);
  methods[17].selector = @selector(groupByWithSquiDBFieldArray:);
  methods[18].selector = @selector(havingWithSquiDBCriterion:);
  methods[19].selector = @selector(union__WithSquiDBQuery:);
  methods[20].selector = @selector(unionAllWithSquiDBQuery:);
  methods[21].selector = @selector(intersectWithSquiDBQuery:);
  methods[22].selector = @selector(exceptWithSquiDBQuery:);
  methods[23].selector = @selector(addCompoundSelectWithSquiDBCompoundSelect:);
  methods[24].selector = @selector(orderByWithSquiDBOrderArray:);
  methods[25].selector = @selector(limitWithInt:);
  methods[26].selector = @selector(limitWithInt:withInt:);
  methods[27].selector = @selector(limitWithSquiDBField:);
  methods[28].selector = @selector(limitWithSquiDBField:withSquiDBField:);
  methods[29].selector = @selector(getLimit);
  methods[30].selector = @selector(getOffset);
  methods[31].selector = @selector(requestValidation);
  methods[32].selector = @selector(needsValidation);
  methods[33].selector = @selector(isEqual:);
  methods[34].selector = @selector(hash);
  methods[35].selector = @selector(appendToSqlBuilderWithSquiDBSqlBuilder:withBoolean:);
  methods[36].selector = @selector(visitSelectClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[37].selector = @selector(visitFromClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[38].selector = @selector(visitJoinClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[39].selector = @selector(visitWhereClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[40].selector = @selector(visitGroupByClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[41].selector = @selector(visitCompoundSelectClausesWithSquiDBSqlBuilder:withBoolean:);
  methods[42].selector = @selector(visitOrderByClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[43].selector = @selector(visitLimitClauseWithSquiDBSqlBuilder:withBoolean:);
  methods[44].selector = @selector(getTable);
  methods[45].selector = @selector(hasTable);
  methods[46].selector = @selector(asWithNSString:);
  methods[47].selector = @selector(asWithNSString:withIOSClass:withSquiDBPropertyArray:);
  methods[48].selector = @selector(asFunction);
  methods[49].selector = @selector(fork);
  methods[50].selector = @selector(isEmptyWithJavaUtilList:);
  methods[51].selector = @selector(isEmptyWithNSObjectArray:);
  methods[52].selector = @selector(forkListWithJavaUtilArrayList:);
  methods[53].selector = @selector(freeze);
  methods[54].selector = @selector(isImmutable);
  methods[55].selector = @selector(getFields);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "NO_LIMIT", "LSquiDBField;", .constantValue.asLong = 0, 0x19, -1, 72, 73, -1 },
    { "NO_OFFSET", "LSquiDBField;", .constantValue.asLong = 0, 0x19, -1, 74, 73, -1 },
    { "table_", "LSquiDBSqlTable;", .constantValue.asLong = 0, 0x2, -1, -1, 75, -1 },
    { "fields_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 76, -1 },
    { "criterions_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 77, -1 },
    { "joins_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 78, -1 },
    { "groupByFields_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 76, -1 },
    { "havings_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 77, -1 },
    { "compoundSelects_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 79, -1 },
    { "orders_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 80, -1 },
    { "limit_", "LSquiDBField;", .constantValue.asLong = 0, 0x2, -1, -1, 73, -1 },
    { "offset_", "LSquiDBField;", .constantValue.asLong = 0, 0x2, -1, -1, 73, -1 },
    { "distinct_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "immutable_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "needsValidation_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "selectAllCache_", "LJavaUtilArrayList;", .constantValue.asLong = 0, 0x2, -1, -1, 76, -1 },
  };
  static const void *ptrTable[] = { "LJavaUtilList;", "(Ljava/util/List<Lcom/yahoo/squidb/sql/Field<*>;>;)V", "[LSquiDBField;", "([Lcom/yahoo/squidb/sql/Field<*>;)V", "select", "([Lcom/yahoo/squidb/sql/Field<*>;)Lcom/yahoo/squidb/sql/Query;", "(Ljava/util/List<Lcom/yahoo/squidb/sql/Field<*>;>;)Lcom/yahoo/squidb/sql/Query;", "selectDistinct", "fromSubquery", "LSquiDBQuery;LNSString;", "fromView", "LSquiDBView;", "selectMore", "from", "LSquiDBSqlTable;", "(Lcom/yahoo/squidb/sql/SqlTable<*>;)Lcom/yahoo/squidb/sql/Query;", "join", "[LSquiDBJoin;", "leftJoin", "LSquiDBSqlTable;[LSquiDBCriterion;", "(Lcom/yahoo/squidb/sql/SqlTable<*>;[Lcom/yahoo/squidb/sql/Criterion;)Lcom/yahoo/squidb/sql/Query;", "LSquiDBSqlTable;[LSquiDBProperty;", "(Lcom/yahoo/squidb/sql/SqlTable<*>;[Lcom/yahoo/squidb/sql/Property<*>;)Lcom/yahoo/squidb/sql/Query;", "innerJoin", "where", "LSquiDBCriterion;", "groupBy", "having", "union", "LSquiDBQuery;", "unionAll", "intersect", "except", "addCompoundSelect", "LSquiDBCompoundSelect;", "orderBy", "[LSquiDBOrder;", "limit", "I", "II", "LSquiDBField;", "(Lcom/yahoo/squidb/sql/Field<Ljava/lang/Integer;>;)Lcom/yahoo/squidb/sql/Query;", "LSquiDBField;LSquiDBField;", "(Lcom/yahoo/squidb/sql/Field<Ljava/lang/Integer;>;Lcom/yahoo/squidb/sql/Field<Ljava/lang/Integer;>;)Lcom/yahoo/squidb/sql/Query;", "()Lcom/yahoo/squidb/sql/Field<Ljava/lang/Integer;>;", "equals", "LNSObject;", "hashCode", "appendToSqlBuilder", "LSquiDBSqlBuilder;Z", "visitSelectClause", "visitFromClause", "visitJoinClause", "visitWhereClause", "visitGroupByClause", "visitCompoundSelectClauses", "visitOrderByClause", "visitLimitClause", "()Lcom/yahoo/squidb/sql/SqlTable<*>;", "as", "LNSString;", "LNSString;LIOSClass;[LSquiDBProperty;", "(Ljava/lang/String;Ljava/lang/Class<+Lcom/yahoo/squidb/data/ViewModel;>;[Lcom/yahoo/squidb/sql/Property<*>;)Lcom/yahoo/squidb/sql/SubqueryTable;", "<T:Ljava/lang/Object;>()Lcom/yahoo/squidb/sql/Function<TT;>;", "isEmpty", "(Ljava/util/List<*>;)Z", "[LNSObject;", "<T:Ljava/lang/Object;>([TT;)Z", "forkList", "LJavaUtilArrayList;", "<T:Ljava/lang/Object;>(Ljava/util/ArrayList<TT;>;)Ljava/util/ArrayList<TT;>;", "()Ljava/util/List<Lcom/yahoo/squidb/sql/Field<*>;>;", &SquiDBQuery_NO_LIMIT, "Lcom/yahoo/squidb/sql/Field<Ljava/lang/Integer;>;", &SquiDBQuery_NO_OFFSET, "Lcom/yahoo/squidb/sql/SqlTable<*>;", "Ljava/util/ArrayList<Lcom/yahoo/squidb/sql/Field<*>;>;", "Ljava/util/ArrayList<Lcom/yahoo/squidb/sql/Criterion;>;", "Ljava/util/ArrayList<Lcom/yahoo/squidb/sql/Join;>;", "Ljava/util/ArrayList<Lcom/yahoo/squidb/sql/CompoundSelect;>;", "Ljava/util/ArrayList<Lcom/yahoo/squidb/sql/Order;>;" };
  static const J2ObjcClassInfo _SquiDBQuery = { "Query", "com.yahoo.squidb.sql", ptrTable, methods, fields, 7, 0x11, 56, 16, -1, -1, -1, -1, -1 };
  return &_SquiDBQuery;
}

+ (void)initialize {
  if (self == [SquiDBQuery class]) {
    SquiDBQuery_NO_LIMIT = SquiDBField_fieldWithNSString_(@"-1");
    SquiDBQuery_NO_OFFSET = SquiDBField_fieldWithNSString_(@"0");
    J2OBJC_SET_INITIALIZED(SquiDBQuery)
  }
}

@end

void SquiDBQuery_initWithJavaUtilList_(SquiDBQuery *self, id<JavaUtilList> fields) {
  SquiDBTableStatement_init(self);
  self->table_ = nil;
  self->fields_ = nil;
  self->criterions_ = nil;
  self->joins_ = nil;
  self->groupByFields_ = nil;
  self->havings_ = nil;
  self->compoundSelects_ = nil;
  self->orders_ = nil;
  self->limit_ = SquiDBQuery_NO_LIMIT;
  self->offset_ = SquiDBQuery_NO_OFFSET;
  self->distinct_ = false;
  self->immutable_ = false;
  self->needsValidation_ = false;
  self->selectAllCache_ = nil;
  if (!SquiDBQuery_isEmptyWithJavaUtilList_(self, fields)) {
    self->fields_ = new_JavaUtilArrayList_initWithJavaUtilCollection_(fields);
  }
}

SquiDBQuery *new_SquiDBQuery_initWithJavaUtilList_(id<JavaUtilList> fields) {
  J2OBJC_NEW_IMPL(SquiDBQuery, initWithJavaUtilList_, fields)
}

SquiDBQuery *create_SquiDBQuery_initWithJavaUtilList_(id<JavaUtilList> fields) {
  J2OBJC_CREATE_IMPL(SquiDBQuery, initWithJavaUtilList_, fields)
}

void SquiDBQuery_initWithSquiDBFieldArray_(SquiDBQuery *self, IOSObjectArray *fields) {
  SquiDBTableStatement_init(self);
  self->table_ = nil;
  self->fields_ = nil;
  self->criterions_ = nil;
  self->joins_ = nil;
  self->groupByFields_ = nil;
  self->havings_ = nil;
  self->compoundSelects_ = nil;
  self->orders_ = nil;
  self->limit_ = SquiDBQuery_NO_LIMIT;
  self->offset_ = SquiDBQuery_NO_OFFSET;
  self->distinct_ = false;
  self->immutable_ = false;
  self->needsValidation_ = false;
  self->selectAllCache_ = nil;
  if (!SquiDBQuery_isEmptyWithNSObjectArray_(self, fields)) {
    self->fields_ = new_JavaUtilArrayList_init();
    SquiDBSquidUtilities_addAllWithJavaUtilCollection_withNSObjectArray_(self->fields_, fields);
  }
}

SquiDBQuery *new_SquiDBQuery_initWithSquiDBFieldArray_(IOSObjectArray *fields) {
  J2OBJC_NEW_IMPL(SquiDBQuery, initWithSquiDBFieldArray_, fields)
}

SquiDBQuery *create_SquiDBQuery_initWithSquiDBFieldArray_(IOSObjectArray *fields) {
  J2OBJC_CREATE_IMPL(SquiDBQuery, initWithSquiDBFieldArray_, fields)
}

SquiDBQuery *SquiDBQuery_selectWithSquiDBFieldArray_(IOSObjectArray *fields) {
  SquiDBQuery_initialize();
  return new_SquiDBQuery_initWithSquiDBFieldArray_(fields);
}

SquiDBQuery *SquiDBQuery_selectWithJavaUtilList_(id<JavaUtilList> fields) {
  SquiDBQuery_initialize();
  return new_SquiDBQuery_initWithJavaUtilList_(fields);
}

SquiDBQuery *SquiDBQuery_selectDistinctWithSquiDBFieldArray_(IOSObjectArray *fields) {
  SquiDBQuery_initialize();
  SquiDBQuery *query = new_SquiDBQuery_initWithSquiDBFieldArray_(fields);
  query->distinct_ = true;
  return query;
}

SquiDBQuery *SquiDBQuery_selectDistinctWithJavaUtilList_(id<JavaUtilList> fields) {
  SquiDBQuery_initialize();
  SquiDBQuery *query = new_SquiDBQuery_initWithJavaUtilList_(fields);
  query->distinct_ = true;
  return query;
}

SquiDBQuery *SquiDBQuery_fromSubqueryWithSquiDBQuery_withNSString_(SquiDBQuery *subquery, NSString *subqueryAlias) {
  SquiDBQuery_initialize();
  SquiDBSubqueryTable *table = [((SquiDBQuery *) nil_chk(subquery)) asWithNSString:subqueryAlias];
  return [((SquiDBQuery *) nil_chk(SquiDBQuery_selectWithSquiDBFieldArray_([((SquiDBSubqueryTable *) nil_chk(table)) qualifiedFields]))) fromWithSquiDBSqlTable:table];
}

SquiDBQuery *SquiDBQuery_fromViewWithSquiDBView_(SquiDBView *view) {
  SquiDBQuery_initialize();
  return [((SquiDBQuery *) nil_chk(SquiDBQuery_selectWithSquiDBFieldArray_([((SquiDBView *) nil_chk(view)) qualifiedFields]))) fromWithSquiDBSqlTable:view];
}

void SquiDBQuery_addCompoundSelectWithSquiDBCompoundSelect_(SquiDBQuery *self, SquiDBCompoundSelect *compoundSelect) {
  if (self->compoundSelects_ == nil) {
    self->compoundSelects_ = new_JavaUtilArrayList_init();
  }
  [self->compoundSelects_ addWithId:compoundSelect];
  [self invalidateCompileCache];
}

void SquiDBQuery_visitSelectClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@"SELECT "];
  if (self->distinct_) {
    (void) [builder->sql_ appendWithNSString:@"DISTINCT "];
  }
  id<JavaUtilList> toSelect;
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->fields_)) {
    toSelect = [self getFields];
  }
  else {
    toSelect = self->fields_;
  }
  [builder appendConcatenatedCompilablesWithJavaUtilList:toSelect withNSString:@", " withBoolean:forSqlValidation];
}

void SquiDBQuery_visitFromClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (self->table_ == nil) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" FROM "];
  [((SquiDBSqlTable *) nil_chk(self->table_)) appendToSqlBuilderWithSquiDBSqlBuilder:builder withBoolean:forSqlValidation];
}

void SquiDBQuery_visitJoinClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->joins_)) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" "];
  [builder appendConcatenatedCompilablesWithJavaUtilList:self->joins_ withNSString:@" " withBoolean:forSqlValidation];
}

void SquiDBQuery_visitWhereClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->criterions_)) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" WHERE "];
  if (forSqlValidation) {
    (void) [builder->sql_ appendWithNSString:@"("];
  }
  [builder appendConcatenatedCompilablesWithJavaUtilList:self->criterions_ withNSString:@" AND " withBoolean:forSqlValidation];
  if (forSqlValidation) {
    (void) [builder->sql_ appendWithNSString:@")"];
  }
}

void SquiDBQuery_visitGroupByClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->groupByFields_)) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" GROUP BY"];
  for (SquiDBField * __strong groupBy in nil_chk(self->groupByFields_)) {
    (void) [builder->sql_ appendWithNSString:@" "];
    [((SquiDBField *) nil_chk(groupBy)) appendQualifiedExpressionWithSquiDBSqlBuilder:builder withBoolean:forSqlValidation];
    (void) [builder->sql_ appendWithNSString:@","];
  }
  (void) [builder->sql_ deleteCharAtWithInt:[builder->sql_ java_length] - 1];
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->havings_)) {
    return;
  }
  (void) [builder->sql_ appendWithNSString:@" HAVING "];
  [builder appendConcatenatedCompilablesWithJavaUtilList:self->havings_ withNSString:@" AND " withBoolean:forSqlValidation];
}

void SquiDBQuery_visitCompoundSelectClausesWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->compoundSelects_)) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" "];
  [builder appendConcatenatedCompilablesWithJavaUtilList:self->compoundSelects_ withNSString:@" " withBoolean:forSqlValidation];
}

void SquiDBQuery_visitOrderByClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, self->orders_)) {
    return;
  }
  (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" ORDER BY "];
  [builder appendConcatenatedCompilablesWithJavaUtilList:self->orders_ withNSString:@", " withBoolean:forSqlValidation];
}

void SquiDBQuery_visitLimitClauseWithSquiDBSqlBuilder_withBoolean_(SquiDBQuery *self, SquiDBSqlBuilder *builder, jboolean forSqlValidation) {
  if (![((SquiDBField *) nil_chk(SquiDBQuery_NO_LIMIT)) isEqual:self->limit_] || ![((SquiDBField *) nil_chk(SquiDBQuery_NO_OFFSET)) isEqual:self->offset_]) {
    (void) [((JavaLangStringBuilder *) nil_chk(((SquiDBSqlBuilder *) nil_chk(builder))->sql_)) appendWithNSString:@" LIMIT "];
    [((SquiDBField *) nil_chk(self->limit_)) appendQualifiedExpressionWithSquiDBSqlBuilder:builder withBoolean:forSqlValidation];
    if (![((SquiDBField *) nil_chk(SquiDBQuery_NO_OFFSET)) isEqual:self->offset_]) {
      (void) [builder->sql_ appendWithNSString:@" OFFSET "];
      [((SquiDBField *) nil_chk(self->offset_)) appendQualifiedExpressionWithSquiDBSqlBuilder:builder withBoolean:forSqlValidation];
    }
  }
}

jboolean SquiDBQuery_isEmptyWithJavaUtilList_(SquiDBQuery *self, id<JavaUtilList> list) {
  return list == nil || [list isEmpty];
}

jboolean SquiDBQuery_isEmptyWithNSObjectArray_(SquiDBQuery *self, IOSObjectArray *array) {
  return array == nil || array->size_ == 0;
}

JavaUtilArrayList *SquiDBQuery_forkListWithJavaUtilArrayList_(SquiDBQuery *self, JavaUtilArrayList *list) {
  if (SquiDBQuery_isEmptyWithJavaUtilList_(self, list)) {
    return nil;
  }
  return new_JavaUtilArrayList_initWithJavaUtilCollection_(list);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(SquiDBQuery)

J2OBJC_NAME_MAPPING(SquiDBQuery, "com.yahoo.squidb.sql", "SquiDB")
